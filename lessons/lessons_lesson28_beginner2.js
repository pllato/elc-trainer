addLesson({
  level: "beginner2",
  lesson: "lesson28",
  name: "Урок 28: Would you/I/he/she/it/we/they like ______?",
  structures: [
    {
      structure: "Would you/I/he/she/it/we/they like ______?",
      pattern: ["would"],
      translations: ["Хотел(и) бы ты/я/он/она/оно/мы/вы ______?"],
      examples: [
        "Would you like to go? (Хотел бы ты пойти?)",
        "Would she like a coffee? (Хотела бы она кофе?)",
        "Would they like to play football? (Хотели бы они играть в футбол?)",
        "Would he like it? (Хотел бы он это?)",
        "Would you like dancing? (Хотели бы вы танцевать?)",
        "Would I like to do something? (Хотел бы я сделать что-нибудь?)"
      ],
      id: "would-pronoun-like-object",
      hasVerb: true,
      hasName: false
    },
    {
      structure: "Yes, you/I/he/she/it/we/they would like ______",
      pattern: ["yes", "would", "like"],
      translations: ["Да, ты/я/он/она/оно/мы/вы хотел(и) бы ______"],
      examples: [
        "Yes, I would like to go. (Да, я хотел бы пойти.)",
        "Yes, she would like a coffee. (Да, она хотела бы кофе.)",
        "Yes, they would like to play. (Да, они хотели бы играть.)",
        "Yes, he would like it. (Да, он хотел бы это.)",
        "Yes, you would like dancing. (Да, вы хотели бы танцевать.)"
      ],
      id: "yes-pronoun-would-like-object",
      hasVerb: true,
      hasName: false
    },
    {
      structure: "No, you/I/he/she/it/we/they would not like ______",
      pattern: ["no", "would", "not", "like"],
      translations: ["Нет, ты/я/он/она/оно/мы/вы не хотел(и) бы ______"],
      examples: [
        "No, I would not like to go. (Нет, я не хотел бы пойти.)",
        "No, she would not like a coffee. (Нет, она не хотела бы кофе.)",
        "No, they would not like to play. (Нет, они не хотели бы играть.)",
        "No, he would not like it. (Нет, он не хотел бы это.)",
        "No, you would not like dancing. (Нет, вы не хотели бы танцевать.)"
      ],
      id: "no-pronoun-would-not-like-object",
      hasVerb: true,
      hasName: false
    }
  ],
  requiredCorrect: 10,
  irregularVerbs: {
    "arise": "arose",
    "awake": "awoke",
    "be": "was",
    "bear": "bore",
    "beat": "beat",
    "become": "became",
    "begin": "began",
    "bend": "bent",
    "bet": "bet",
    "bind": "bound",
    "bite": "bit",
    "bleed": "bled",
    "blow": "blew",
    "break": "broke",
    "bring": "brought",
    "build": "built",
    "burn": "burnt",
    "burst": "burst",
    "buy": "bought",
    "catch": "caught",
    "choose": "chose",
    "cling": "clung",
    "come": "came",
    "cost": "cost",
    "creep": "crept",
    "cut": "cut",
    "deal": "dealt",
    "dig": "dug",
    "dive": "dove",
    "do": "did",
    "draw": "drew",
    "dream": "dreamt",
    "drink": "drank",
    "drive": "drove",
    "eat": "ate",
    "fall": "fell",
    "feed": "fed",
    "feel": "felt",
    "fight": "fought",
    "find": "found",
    "flee": "fled",
    "fly": "flew",
    "forbid": "forbade",
    "forget": "forgot",
    "forgive": "forgave",
    "freeze": "froze",
    "get": "got",
    "give": "gave",
    "go": "went",
    "grind": "ground",
    "grow": "grew",
    "hang": "hung",
    "have": "had",
    "hear": "heard",
    "hide": "hid",
    "hit": "hit",
    "hold": "held",
    "hurt": "hurt",
    "keep": "kept",
    "kneel": "knelt",
    "know": "knew",
    "lay": "laid",
    "lead": "led",
    "lean": "leant",
    "leap": "leapt",
    "learn": "learnt",
    "leave": "left",
    "lend": "lent",
    "let": "let",
    "lie": "lay",
    "light": "lit",
    "lose": "lost",
    "make": "made",
    "mean": "meant",
    "meet": "met",
    "mow": "mowed",
    "pay": "paid",
    "put": "put",
    "quit": "quit",
    "read": "read",
    "ride": "rode",
    "ring": "rang",
    "rise": "rose",
    "run": "ran",
    "say": "said",
    "see": "saw",
    "seek": "sought",
    "sell": "sold",
    "send": "sent",
    "set": "set",
    "shake": "shook",
    "shine": "shone",
    "shoot": "shot",
    "show": "showed",
    "shrink": "shrank",
    "shut": "shut",
    "sing": "sang",
    "sink": "sank",
    "sit": "sat",
    "sleep": "slept",
    "slide": "slid",
    "smell": "smelt",
    "speak": "spoke",
    "speed": "sped",
    "spell": "spelt",
    "spend": "spent",
    "spill": "spilt",
    "spin": "spun",
    "spit": "spat",
    "split": "split",
    "spoil": "spoilt",
    "spread": "spread",
    "spring": "sprang",
    "stand": "stood",
    "steal": "stole",
    "stick": "stuck",
    "sting": "stung",
    "stink": "stank",
    "strike": "struck",
    "strive": "strove",
    "swear": "swore",
    "sweep": "swept",
    "swim": "swam",
    "swing": "swung",
    "take": "took",
    "teach": "taught",
    "tear": "tore",
    "tell": "told",
    "think": "thought",
    "throw": "threw",
    "tread": "trod",
    "understand": "understood",
    "undo": "undid",
    "upset": "upset",
    "wake": "woke",
    "wear": "wore",
    "weave": "wove",
    "weep": "wept",
    "win": "won",
    "wind": "wound",
    "withdraw": "withdrew",
    "write": "wrote"
  },
  validateStructure: function(text, structure) {
    console.log('Raw input:', text);
    // Заменяем сокращение "wouldn't" на "would not"
    let processedText = text.replace(/wouldn't/gi, 'would not');
    // Удаляем пунктуацию и приводим к нижнему регистру
    const cleanedText = processedText.replace(/[^a-zA-Z0-9\s]/g, '').toLowerCase().trim();
    console.log('Cleaned text:', cleanedText);

    const words = cleanedText.split(/\s+/).filter(word => word.length > 0);
    console.log('Split words:', words);

    if (words.length === 0) {
      console.log('Пустая строка');
      return false;
    }

    let wordIndex = 0;

    // Список исключённых глаголов и модальных глаголов
    const excludedWords = [
      'will', 'should', 'can', 'could', 'would', 'must', 'may', 'might', 'shall', 'ought',
      'am', 'is', 'are', 'was', 'were', 'been', 'being', 'has', 'have', 'had', 'does', 'did',
      'going', 'doing', 'saying', 'running', 'swimming', 'singing',
      'likes', 'runs', 'swims', 'works', 'calls', 'plays', 'watches', 'studies'
    ];

    // Список всех местоимений
    const validPronouns = ['i', 'you', 'he', 'she', 'it', 'we', 'they'];

    // Проверяем объект (глагольная фраза или существительное)
    const validateObject = () => {
      if (!words[wordIndex]) {
        console.log('Нет объекта после "like"');
        return false;
      }

      // Вариант 1: Глагольная фраза с "to"
      if (words[wordIndex] === 'to') {
        wordIndex++;
        if (!words[wordIndex]) {
          console.log('Нет глагола после "to"');
          return false;
        }
        const verb = words[wordIndex];
        // Проверяем, что глагол в базовой форме
        if (verb.endsWith('ing') || verb.endsWith('s') || verb.endsWith('es') || verb.endsWith('ed')) {
          console.log('Недопустимая форма глагола (должна быть базовая):', verb);
          return false;
        }
        // Проверяем, что глагол не является исключённым словом (кроме "do")
        if (excludedWords.includes(verb) && verb !== 'do') {
          console.log('Запрещённый глагол:', verb);
          return false;
        }
        wordIndex++;
        // Разрешаем дополнительные слова (например, "something", "football")
        while (wordIndex < words.length) {
          const extraWord = words[wordIndex];
          if (excludedWords.includes(extraWord)) {
            console.log('Недопустимое дополнительное слово:', extraWord);
            return false;
          }
          wordIndex++;
        }
      } else {
        // Вариант 2: Существительное, местоимение или герундий
        const objectWord = words[wordIndex];
        // Разрешаем местоимения (например, "it"), герундии (например, "dancing") или другие слова
        // Запрещаем только исключённые слова и глаголы в Past Simple
        if (excludedWords.includes(objectWord) || Object.values(this.irregularVerbs).includes(objectWord)) {
          console.log('Недопустимое слово в объекте:', objectWord);
          return false;
        }
        wordIndex++;
        // Разрешаем дополнительные слова (например, "a new car")
        while (wordIndex < words.length) {
          const extraWord = words[wordIndex];
          if (excludedWords.includes(extraWord) || Object.values(this.irregularVerbs).includes(extraWord)) {
            console.log('Недопустимое дополнительное слово:', extraWord);
            return false;
          }
          wordIndex++;
        }
      }
      return true;
    };

    if (structure.id === "would-pronoun-like-object") {
      // Проверяем "would"
      if (!words[wordIndex] || words[wordIndex] !== 'would') {
        console.log('Ожидалось "would" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем местоимение
      if (!words[wordIndex] || !validPronouns.includes(words[wordIndex])) {
        console.log('Ожидалось местоимение на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем "like"
      if (!words[wordIndex] || words[wordIndex] !== 'like') {
        console.log('Ожидалось "like" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем объект
      return validateObject();
    } else if (structure.id === "yes-pronoun-would-like-object") {
      // Проверяем "yes"
      if (!words[wordIndex] || words[wordIndex] !== 'yes') {
        console.log('Ожидалось "yes" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем местоимение
      if (!words[wordIndex] || !validPronouns.includes(words[wordIndex])) {
        console.log('Ожидалось местоимение на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем "would"
      if (!words[wordIndex] || words[wordIndex] !== 'would') {
        console.log('Ожидалось "would" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем "like"
      if (!words[wordIndex] || words[wordIndex] !== 'like') {
        console.log('Ожидалось "like" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем объект
      return validateObject();
    } else if (structure.id === "no-pronoun-would-not-like-object") {
      // Проверяем "no"
      if (!words[wordIndex] || words[wordIndex] !== 'no') {
        console.log('Ожидалось "no" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем местоимение
      if (!words[wordIndex] || !validPronouns.includes(words[wordIndex])) {
        console.log('Ожидалось местоимение на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем "would"
      if (!words[wordIndex] || words[wordIndex] !== 'would') {
        console.log('Ожидалось "would" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем "not"
      if (!words[wordIndex] || words[wordIndex] !== 'not') {
        console.log('Ожидалось "not" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем "like"
      if (!words[wordIndex] || words[wordIndex] !== 'like') {
        console.log('Ожидалось "like" на позиции', wordIndex, ', получено', words[wordIndex]);
        return false;
      }
      wordIndex++;

      // Проверяем объект
      return validateObject();
    }

    console.log('Валидация пройдена для:', text);
    return true;
  }
});